<br>
<br>
<br>


<div class="container mt-5">
    <h3 class="mt-4">Usuários</h3>

    <ol class="breadcrumb mb-4">
        <li class="breadcrumb-item active">Informações</li>
    </ol>
    <div class="container">
        <form #loginForm="ngForm" (submit)="onSubmit()">
            <div class="row">
                <div class="col-md-12">
                    <div class="alert alert-success" role="alert" *ngIf="msgSucesso == true">
                        Colaborador salvo(a) com sucesso!
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="alert alert-danger" role="alert" *ngIf="msgfalha == true">
                        Erro ao salvar o(a) colaborador!
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <label class="small mb-1">Nome: </label>
                    <input type="text" class="form-control py-4" name="nome" [(ngModel)]="usuario.nome"
                        placeholder="Nome do Tipo" />
                </div>
                <div class="col-md-4">
                    <label class="small mb-1">Email:</label>
                    <input type="text" class="form-control py-4" name="descricao" autocomplete="off"
                        placeholder="Descreva o Tipo" [(ngModel)]="usuario.email" />
                </div>
            </div>
            <div class="row">
                <div class="form-group ml-3">
                    <label class="small mb-1">Senha</label>
                    <input type="password" class="form-control py-4" name="password" [(ngModel)]="usuario.senha"
                        placeholder="Digite sua senha" />
                </div>
            </div>
            <div class="row">
                <div class="form-group float-right mt-4 mt-0 ml-4">
                    <button class="btn btn-primary" type="submit">Cadastrar</button>
                </div>
                <div class="form-group d-flex justity-content-between mt-4 mt-0 ml-4">
                    <button class="btn btn-secondary" routerLink="/home">Voltar</button>
                </div>
            </div>

            <br>
            <br>
            <br>
            <div class="row">
                <div class="col-md-12">
                    <div class="table-responsive">

                        <table class="table table-striped table-hover">
                            <thead class="thead-dark">
                                <tr>
                                    <th (click)="sort('nome')">Nome da Categoria<span *ngIf="key =='nome'"> {{ reverse ?
                                            '▲' : '▼' }} </span></th>
                                    <th (click)="sort('email')">Email<span *ngIf="key =='email'"> {{ reverse ?
                                            '▲' : '▼' }} </span></th>
                                    <th (click)="sort('dataCriacao')">Data de criacao<span *ngIf="key =='dataCriacao'">
                                            {{
                                            reverse ? '▲' : '▼' }} </span></th>
                                    <th (click)="sort('dataAtualizacao')">Data de Atualização<span
                                            *ngIf="key =='dataAtualizacao'"> {{ reverse ? '▲' : '▼' }} </span></th>
                                    <th>Editar</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let usua of usuarios | orderBy: key : reverse; let i = index ">
                                    <td>{{ usua.nome}}</td>
                                    <td>{{ usua.email}}</td>
                                    <td>{{ usua.dataCriacao | date : 'dd/MM/yyyy' }}</td>
                                    <td>{{ usua.dataAtualizacao | date : 'dd/MM/yyyy' }}</td>
                                    <td>
                                        <div class="btn-group btn-group-sm" role="group" aria-label="...">
                                            <button class="btn btn-secondary" (click)="preparaDelecao(usua)"
                                                data-toggle="modal" data-target="#modalDelecao"><i
                                                    class="fa fa-trash"></i></button>
                                        </div>
    
                                    </td>
    

                                </tr>

                            </tbody>
                        </table>
                    </div>
                </div>
                <div id="modalDelecao" class="modal fade" role="dialog">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h4>Confirmação</h4>
                            </div>
                            <div class="modal-body">
                                <h6>Deseja deletar o Usuario?</h6> <br>
                            </div>
                            <div class="modal-footer">
                                <button class="btn btn-danger" (click)="deletarUsuario(usuarioSelecionado)"
                                    data-dismiss="modal">Confirmar</button>
                                <button class="btn btn-primary ml-1" data-dismiss="modal">Cancelar</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <br>
            <br>
            <br>


        </form>

    </div>
</div>